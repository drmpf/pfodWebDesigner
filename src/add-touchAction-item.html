<!DOCTYPE html>
<!--
   add-touchAction-item.html
 * (c)2025 Forward Computing and Control Pty. Ltd.
 * NSW Australia, www.forward.com.au
 * This code is not warranted to be fit for any purpose. You may only use it at your own risk.
 * This generated code may be freely used for both private and commercial use
 * provided this copyright is maintained.
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add touchAction Item</title>
    <style>
      input[type='number']{
        width: 80px;
      } 
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            font-size: 66.7%; /* Reduced by 1/3 from default */
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 20px;
        }
        .left-panel {
            flex: 1;
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 5px;
        }
        .right-panel {
            flex: 1;
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            min-height: 600px;
        }
        .form-group {
            margin-bottom: 10px;
        }
        .form-group-row {
            display: flex;
            flex-direction: row;
            margin-bottom: 10px;
        }
        .checkbox-group {
            display: grid;
            grid-template-columns: auto 1fr;
            justify-items: start;
            align-items: center;
            margin-bottom: 10px;
            text-align: left;
        }
        .checkbox-group input {
            margin-right: 5px;
            width: auto;
        }
        .checkbox-group label {
            margin-bottom: 0;
            padding-left: 0;
        }
        .inline-group {
            display: flex;
            justify-content: flex-start;
            gap: 10px;
            margin-bottom: 10px;
        }
        .half-width {
            width: 50%;
        }
        .half-width input {
            max-width: 100px;
        }
        label {
            display: block;
            margin-bottom: 3px;
            margin-right: 10px;
            font-weight: bold;
        }
        label_row {
            display: block;
            margin-top: 10px;
            margin-bottom: 3px;
            margin-right: 10px;
            font-weight: bold;
        }
        input, select {
            padding: 5px;
            width: 100%;
            max-width: 200px; /* Reduced by 1/3 from 300px */
            box-sizing: border-box;
        }
        button {
            padding: 5px 11px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            margin-right: 7px;
            font-size: 11px; /* Smaller font for buttons */
        }
        button:hover {
            background-color: #45a049;
        }
        .cancel-btn {
            background-color: #f44336;
        }
        .cancel-btn:hover {
            background-color: #d32f2f;
        }
        .iframe-container {
            border: 1px solid #ccc;
            margin-top: 20px;
            position: relative;
            height: 500px;
            flex-grow: 1;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        h1, h2 {
            margin-top: 0;
        }
        h1 {
            font-size: 2em;
        }
        h2 {
            font-size: 1.5em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="left-panel">
            <h1 id="drawing-title">Add touchAction Item</h1>
            
            <div class="form-group-row">
                <label_row for="item-type">Item Type:</label_row>
                <select id="item-type">
                    <option value="line">Line</option>
                    <option value="rectangle">Rectangle</option>
                    <option value="circle">Circle</option>
                    <option value="arc">Arc</option>
                    <option value="label">Label</option>
                    <option value="value">Value</option>
                    <option value="hide">Hide Item</option>
                    <option value="unhide">Unhide Item</option>
                </select>
            </div>
            
            <!-- Line Properties -->
            <div id="line-properties">
                <div class="inline-group">
                    <div class="half-width">
                        <label for="line-xoffset">X Offset:</label>
                        <select id="line-xoffset-type" onchange="toggleOffsetInput('line-xoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="line-xoffset" value="0" style="margin-top: 5px;">
                    </div>
                    <div class="half-width">
                        <label for="line-yoffset">Y Offset:</label>
                        <select id="line-yoffset-type" onchange="toggleOffsetInput('line-yoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="line-yoffset" value="0" style="margin-top: 5px;">
                    </div>
                </div>
                <div class="inline-group">
                    <div class="half-width">
                        <label for="line-x">X:</label>
                        <input type="number" id="line-x" value="1">
                    </div>
                    <div class="half-width">
                        <label for="line-y">Y:</label>
                        <input type="number" id="line-y" value="1">
                    </div>
                </div>
            </div>
            
            
            <!-- Hide Item Properties -->
            <div id="hide-properties" style="display: none;">
                <p>Hide makes the selected item invisible.</p>
                <p><strong>Hiding item: <span id="hide-target-name"></span></strong></p>
            </div>
            
            <!-- Unhide Item Properties -->
            <div id="unhide-properties" style="display: none;">
                <p>Unhide makes the selected item visible again.</p>
                <p><strong>Unhiding item: <span id="unhide-target-name"></span></strong></p>
            </div>
            
            
            <!-- Rectangle Properties -->
            <div id="rectangle-properties" style="display: none;">
                <div class="inline-group">
                    <div class="half-width">
                        <label for="rect-xoffset">X Position:</label>
                        <select id="rect-xoffset-type" onchange="toggleOffsetInput('rect-xoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="rect-xoffset" value="0" style="margin-top: 5px;">
                    </div>
                    <div class="half-width">
                        <label for="rect-yoffset">Y Position:</label>
                        <select id="rect-yoffset-type" onchange="toggleOffsetInput('rect-yoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="rect-yoffset" value="0" style="margin-top: 5px;">
                    </div>
                </div>
                <div class="inline-group">
                    <div class="half-width">
                        <label for="rect-width">Width:</label>
                        <input type="number" id="rect-width" value="1">
                    </div>
                    <div class="half-width">
                        <label for="rect-height">Height:</label>
                        <input type="number" id="rect-height" value="1">
                    </div>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="rect-style" value="true">
                    <label for="rect-style">Filled</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="rect-centered" value="true">
                    <label for="rect-centered">Centered</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="rect-corners" value="true">
                    <label for="rect-corners">Rounded</label>
                </div>
            </div>
            
            <!-- Label Properties -->
            <div id="label-properties" style="display: none;">
                <div class="inline-group">
                    <div class="half-width">
                        <label for="label-xoffset">X Position:</label>
                        <select id="label-xoffset-type" onchange="toggleOffsetInput('label-xoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="label-xoffset" value="0" style="margin-top: 5px;">
                    </div>
                    <div class="half-width">
                        <label for="label-yoffset">Y Position:</label>
                        <select id="label-yoffset-type" onchange="toggleOffsetInput('label-yoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="label-yoffset" value="0" style="margin-top: 5px;">
                    </div>
                </div>
                <div class="form-group-row">
                    <label_row for="label-text">Text:</label_row>
                    <textarea id="label-text" placeholder="Text to display (use Enter for new lines)" rows="3" style="width: 100%; resize: vertical; font-family: inherit;">Label Text</textarea>
                </div>
                <div class="inline-group">
                    <div class="half-width">
                        <label for="label-fontsize">Font Size:</label>
                        <input type="number" id="label-fontsize" value="0" min="-24" max="24" step="1" oninput="this.value = Math.floor(this.value)">
                    </div>
                    <div class="half-width">
                        <label for="label-align">Alignment:</label>
                        <select id="label-align">
                            <option value="left">Left</option>
                            <option value="center">Center</option>
                            <option value="right">Right</option>
                        </select>
                    </div>
                </div>
                <div class="inline-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="label-bold" value="true">
                        <label for="label-bold">Bold</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="label-italic" value="true">
                        <label for="label-italic">Italic</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="label-underline" value="true">
                        <label for="label-underline">Underline</label>
                    </div>
                </div>
                <div class="inline-group">
                    <div class="half-width">
                        <label for="label-value">Value:</label>
                        <input type="text" id="label-value" placeholder="Optional" pattern="[0-9]*\.?[0-9]*">
                    </div>
                    <div class="half-width">
                        <label for="label-decimals">Decimals:</label>
                        <input type="number" id="label-decimals" min="-6" max="6" placeholder="">
                    </div>
                </div>
                <div class="form-group-row">
                    <label_row for="label-units">Units:</label_row>
                    <input type="text" id="label-units" placeholder="Optional(e.g., mm, V, %)">
                </div>
            </div>
            
            <!-- Value Properties -->
            <div id="value-properties" style="display: none;">
                <div class="inline-group">
                    <div class="half-width">
                        <label for="value-xoffset">X Position:</label>
                        <select id="value-xoffset-type" onchange="toggleOffsetInput('value-xoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="value-xoffset" value="0" style="margin-top: 5px;">
                    </div>
                    <div class="half-width">
                        <label for="value-yoffset">Y Position:</label>
                        <select id="value-yoffset-type" onchange="toggleOffsetInput('value-yoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="value-yoffset" value="0" style="margin-top: 5px;">
                    </div>
                </div>
                <div class="form-group-row">
                    <label_row for="value-text">Prefix Text:</label_row>
                    <textarea id="value-text" placeholder="Text before the scaled value (use Enter for new lines)" rows="3" style="width: 100%; resize: vertical; font-family: inherit;">Value: </textarea>
                </div>
                <div class="inline-group">
                    <div class="half-width">
                        <label for="value-fontsize">Font Size:</label>
                        <input type="number" id="value-fontsize" value="0" min="-24" max="24" step="1" oninput="this.value = Math.floor(this.value)">
                    </div>
                    <div class="half-width">
                        <label for="value-align">Alignment:</label>
                        <select id="value-align">
                            <option value="left">Left</option>
                            <option value="center">Center</option>
                            <option value="right">Right</option>
                        </select>
                    </div>
                </div>
                <div class="inline-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="value-bold" value="true">
                        <label for="value-bold">Bold</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="value-italic" value="true">
                        <label for="value-italic">Italic</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="value-underline" value="true">
                        <label for="value-underline">Underline</label>
                    </div>
                </div>
                <div class="form-group" style="border: 1px solid #ddd; padding: 10px; margin: 10px 0; background-color: #f9f9f9;">
                    <label style="font-weight: bold; color: #333;">Value Scaling Parameters:</label>
                    <div class="inline-group">
                        <div class="half-width">
                            <label for="value-intvalue">Integer Value:</label>
                            <select id="value-intvalue-type" onchange="toggleOffsetInput('value-intvalue')">
                                <option value="number">Number</option>
                                <option value="COL">COL (Touch Column)</option>
                                <option value="ROW">ROW (Touch Row)</option>
                            </select>
                            <input type="number" id="value-intvalue" value="50" placeholder="Raw integer value" style="margin-top: 5px;">
                        </div>
                        <div class="half-width">
                            <label for="value-decimals">Decimals:</label>
                            <input type="number" id="value-decimals" value="2" min="-6" max="6">
                        </div>
                    </div>
                    <div class="inline-group">
                        <div class="half-width">
                            <label for="value-min">Min Value:</label>
                            <input type="number" id="value-min" value="0" placeholder="Input minimum">
                        </div>
                        <div class="half-width">
                            <label for="value-max">Max Value:</label>
                            <input type="number" id="value-max" value="100" placeholder="Input maximum">
                        </div>
                    </div>
                    <div class="inline-group">
                        <div class="half-width">
                            <label for="value-displaymin">Display Min:</label>
                            <input type="number" id="value-displaymin" value="0.0" step="any" placeholder="Output minimum">
                        </div>
                        <div class="half-width">
                            <label for="value-displaymax">Display Max:</label>
                            <input type="number" id="value-displaymax" value="1.0" step="any" placeholder="Output maximum">
                        </div>
                    </div>
                    <div class="form-group-row">
                        <label_row for="value-units">Units:</label_row>
                        <input type="text" id="value-units" value="" placeholder="e.g., V, °C, %, etc.">
                    </div>
                </div>
            </div>
            
            <!-- Circle Properties -->
            <div id="circle-properties" style="display: none;">
                <div class="inline-group">
                    <div class="half-width">
                        <label for="circle-xoffset">X Center:</label>
                        <select id="circle-xoffset-type" onchange="toggleOffsetInput('circle-xoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="circle-xoffset" value="0" step="any" style="margin-top: 5px;">
                    </div>
                    <div class="half-width">
                        <label for="circle-yoffset">Y Center:</label>
                        <select id="circle-yoffset-type" onchange="toggleOffsetInput('circle-yoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="circle-yoffset" value="0" step="any" style="margin-top: 5px;">
                    </div>
                </div>
                <div class="form-group-row">
                    <label_row for="circle-radius">Radius:</label_row>
                    <input type="number" id="circle-radius" value="1" min="0.1" step="any">
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="circle-filled" value="true">
                    <label for="circle-filled">Filled</label>
                </div>
            </div>
            
            <!-- Arc Properties -->
            <div id="arc-properties" style="display: none;">
                <div class="inline-group">
                    <div class="half-width">
                        <label for="arc-xoffset">X Center:</label>
                        <select id="arc-xoffset-type" onchange="toggleOffsetInput('arc-xoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="arc-xoffset" value="0" step="any" style="margin-top: 5px;">
                    </div>
                    <div class="half-width">
                        <label for="arc-yoffset">Y Center:</label>
                        <select id="arc-yoffset-type" onchange="toggleOffsetInput('arc-yoffset')">
                            <option value="number">Number</option>
                            <option value="COL">COL (Touch Column)</option>
                            <option value="ROW">ROW (Touch Row)</option>
                        </select>
                        <input type="number" id="arc-yoffset" value="0" step="any" style="margin-top: 5px;">
                    </div>
                </div>
                <div class="form-group-row">
                    <label_row for="arc-radius">Radius:</label_row>
                    <input type="number" id="arc-radius" value="1" min="0.1" step="any">
                </div>
                <div class="inline-group">
                    <div class="half-width">
                        <label for="arc-start">Start Angle (°):</label>
                        <input type="number" id="arc-start" value="0" step="any" placeholder="0-360, +ve anti-clockwise">
                    </div>
                    <div class="half-width">
                        <label for="arc-angle">Sweep Angle (°):</label>
                        <input type="number" id="arc-angle" value="90" step="any" placeholder="+ve anti-clockwise, -ve clockwise">
                    </div>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="arc-filled" value="true">
                    <label for="arc-filled">Filled (creates pie slice)</label>
                </div>
            </div>            
            
            
            <!-- Common Properties -->
            <div class="inline-group">
                <div style="flex: 1; margin-right: 20px;">
                    <label for="item-color">Color:</label>
                    <input type="hidden" id="item-color" value="0">
                    <button id="black-white-btn" type="button" style="background-color: #007bff; margin-right: 5px;">BLACK_WHITE</button>
                    <span style="margin: 0 5px;">OR</span>
                    <button id="choose-color-btn" type="button" style="background-color: #6c757d; margin-right: 5px;">Color</button>
                    <div id="item-color-picker" style="display: none; margin-top: 10px"></div>
                </div>
                <div style="flex: 0 0 auto;">
                    <label for="item-idx">Index:</label>
                    <input type="text" id="item-idx" style="max-width: 120px;">
                </div>
            </div>
            
            <div class="form-group">
                <button id="add-item-btn">Add Item</button>
                <button id="cancel-btn" class="cancel-btn">Cancel</button>
            </div>
        </div>
        
        <div class="right-panel">
            <h2>Drawing Preview</h2>
            <div class="iframe-container">
                <iframe id="preview-iframe"></iframe>
            </div>
        </div>
    </div>
    <script src="version.js"></script>
    <script src="colorUtils.js"></script>
    <script src="redraw.js"></script>
    <script src="shared-iframe.js"></script>
    <script src="add-touchAction-item.js"></script>
</body>
</html>